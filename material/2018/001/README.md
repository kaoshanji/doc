## Redis：处理键值对格式的数据

### 提纲
1.  概述
2.  数据结构
3.  应用
4.  数据处理
5.  管理
6.  性能


### 概述
>   Redis 是一个开源的，管理内存中的数据的存储系统，它可以用作非关系型数据库、缓存和消息中间件

### 数据结构
-   字符串
    -   Redis字符串是二进制安全的，这意味着一个Redis字符串能包含任意类型的数据
    -   例如： 一张JPEG格式的图片或者一个序列化的Ruby对象
    -   一个字符串类型的值最多能存储512M字节的内容
-   列表
    -   Redis列表是简单的字符串列表，按照插入顺序排序
    -   一个列表最多可以包含232-1个元素
    -   Redis列表主要的特性就是支持时间常数的 插入和靠近头尾部元素的删除
-   集合
    -   Redis集合是一个无序的字符串合集。你可以以O(1) 的时间复杂度（无论集合中有多少元素时间复杂度都为常量）完成 添加，删除以及测试元素是否存在的操作
    -   向集合中多次添加同一元素，在集合中最终只会存在一个此元素
    -   在添加元素前，你并不需要事先进行检验此元素是否已经存在的操作
-   哈希（Hashes）
    -   Redis Hashes是字符串字段和字符串值之间的映射，所以它们是完美的表示对象
    -   一个拥有少量（100个左右）字段的hash需要 很少的空间来存储，所有你可以在一个小型的 Redis实例中存储上百万的对象
-   有序集合
    -   每个有序集合 的成员都关联着一个评分，这个评分用于把有序集 合中的成员按最低分到最高分排列
    -   使用有序集合，你可以非常快地（O(log(N))）完成添加，删除和更新元素的操作。 因为元素是在插入时就排好序的，所以很快地通过评分(score)或者 位次(position)获得一个范围的元素
    -   在这个列表中， 你可以轻易地访问任何你需要的东西: 有序的元素，快速的存在性测试，快速访问集合中间元素

### 应用
-   数据结构式存储
-   发布/订阅
    -   发布者和订阅者分别连接消息，但是两者之间没有任何关系，发布者不知道订阅者，订阅者也不知道发布者，他们关注的只是消息
    -   发布的消息分到不同的频道，不需要知道谁会对该消息感兴趣
    -   订阅者对一个或多个频道感兴趣，只需接收感兴趣的消息，不需要知道消息的来源
-   缓存
    -   类似memcached
-   key事件通知
    -   类似发布/订阅

### 数据处理
-   管道
    -   一次性执行多条无依赖关系的指令，减少来回连接打开关闭时间
-   过期
    -   使指定key在指定时间之后自动失效并从服务器上删除
-   事务
    -   可以一次执行多个命令，一个单独的隔离操作(命令执行的过程中，不会被打断)，一个原子操作(全部的命令要么全部被执行，要么全部都不执行)
-   批量
    -   在文件里写好需要执行的命令，然后导入执行，包括插入数据命令
-   分区
    -   把数据分散的保存在多个redis实例上，增加节点意味着扩大存储空间
-   复制
    -   主从节点数据同步，从节点是主节点的一个备份
-   持久化
    -   内存中的数据同步到硬盘上

### 管理
-   命令行
    -   redis-cli 是Redis命令行界面，它是一个简单的程序，允许向Redis发送命令，并直接从终端读取服务器发送的回复
-   配置
    -   提供一个Redis配置文件，来配置启动
-   信号处理
    -   接收到POSIX系统下产生的某些信号会发生异常
-   连接处理
    -   Redis通过在TCP端口上进行监听，或者Unix socket（如果启用）的方式来接受客户端的连接
-   脚本
    -   Lua调试器，可用于编写复杂Redis脚本的任务变得更加简单

### 性能
-   内存优化
-   高可用性
-   延迟监控
-   集群