#   测试

该`spring-test`模块支持使用JUnit或TestNG对Spring组件进行单元测试和 集成测试。它提供了一致的Spring 的加载`ApplicationContext`和缓存这些上下文。它还提供了模拟对象，您可以使用它们单独测试您的代码

Spring团队当然提倡采用测试驱动开发（TDD）方法来开发软件，因此涵盖了Spring对集成测试的支持（以及单元测试的最佳实践）。Spring团队发现，正确使用IoC确实可以使单元测试和集成测试变得更容易（因为setter方法和相应的类构造函数的存在使得它们更容易在测试中连接在一起，而无需设置服务定位器注册表等等）......专门用于测试的章节也希望能够让你相信这一点。

测试是企业软件开发不可或缺的一部分。本章重点讨论IoC原理对单元测试的增值以及Spring Framework对集成测试支持的益处。


##  单元测试

依赖注入应该使你的代码对容器的依赖程度低于传统的Java EE开发。组成应用程序的POJO应该可以在JUnit或TestNG测试中测试，对象只需使用new 操作符实例化，不需要Spring或任何其他容器。您可以使用模拟对象（连同其他有价值的测试技术）来独立测试您的代码。如果您遵循Spring的体系结构建议，您的代码库所产生的清晰分层和组件化将有助于更轻松地进行单元测试。例如，您可以通过存根或模拟DAO或存储库接口来测试服务层对象，而无需在运行单元测试时访问持久数据。

真正的单元测试通常运行速度非常快，因为没有运行时基础架构要设置。将真正的单元测试强调为开发方法的一部分将会提高您的生产力。您可能不需要测试章节的这一部分来帮助您为基于IoC的应用程序编写有效的单元测试。但是，对于某些单元测试场景，Spring Framework提供了以下模拟对象和测试支持类。


##  集成测试

能够执行一些集成测试而无需部署到应用程序服务器或连接到其他企业基础架构非常重要。这将使您能够测试以下内容：
-   Spring IoC容器上下文的正确接线。
-   使用JDBC或ORM工具访问数据。这将包括诸如SQL语句的正确性，Hibernate查询，JPA实体映射等等。

Spring框架为`spring-test`模块中的集成测试提供了一流的支持 。实际JAR文件的名称可能包含发布版本，也可能是长`org.springframework.test`格式，具体取决于您从何处获取。这个库包含了这个`org.springframework.test`包，它包含了用Spring容器进行集成测试的宝贵类。此测试不依赖于应用程序服务器或其他部署环境。这样的测试运行速度比单元测试要慢，但要比等效的Selenium测试或依赖部署到应用程序服务器的远程测试快得多。



