#   系统服务

##  安全性

在分布式系统中，资源的私密性、完整性以及可用性都需要由相应的措施加以保证。

密码学为保证消息的私密性和完整性以及消息认证奠定了基础。为使密码学得以应用，需要有精心设计的安全性协议。

### 简介

分布式系统中数据和其他资源的保护机制，这种保护机制允许计算机在安全策略许可的范围内进行交互。

-   威胁和攻击

安全的主要目的是只允许获得授权的主体访问信息和资源。安全威胁一般可以分为三大类：泄露、篡改和恶意破坏。

对分布式系统的攻击依赖于对现有通信通道的访问或者伪装成授权的连接来建立新的通道。

-  保护电子事务
    -   电子邮件
    -   购物和服务
    -   银行事务
    -   微事务

-   设计安全系统

安全就是要避免大灾难和最小化一般的灾难。

### 安全技术概述

介绍一些保护分布式系统和应用的重要技术的机制。

-   密码学

加密就是将消息编码以隐藏原有内容的过程。现代密码学包括多种加密和解密消息的安全算法，他们都是基于密钥的使用。密钥是加密算法中的一个参数，如果不知道密钥，就不可能解密。

-   密码学的应用

密码学在安全系统的实现中扮演了三种角色。

-   证书

数字证书是由一个主体签发的包含一个声明的文档。

-   访问控制

概述分布式系统中对资源访问控制的概念以及实现技术。

-   凭证

凭证是主体在请求访问某个资源的时候提供的一组证据

-   防火墙

防火墙可以保护内部网，对流入和流出网络的信息进行过滤。

### 密码算法

发送方按照某种规则将明文消息(正常顺序的比特流)转换成密文消息(改变了顺序的比特流)，这就是消息加密的过程。接收方必须知道这一转换规则，才能将密文正确转换为原来的明文。

-   密钥(对称)算法

-   公钥(不对称)算法

-   混合密码协议

### 数字签名

数字签名可用于证明某些信息的场合。

-   公钥数字签名

公钥密码特别适合于生成数字签名，因为他相对简单且不需要文档接收者、文档签名者或任何第三方之间的通信

-   密钥数字签名 -- MAC

-   安全摘要函数

-   证书标准和证书权威机构

### 密码实用学

-   密码算法的性能

密钥的长度决定了对其进行强制攻击所需的计算开销，加密算法的真实强度很难衡量，而且它依赖于算法能够成功的加密明文。

-   密码学的使用和政治障碍

### 实例研究：Needham-Schroeder、Kerberos、TLS和802.11 WiFi

-   Needham-Schroeder 认证协议

这里描述的协议是为了满足在网络上安全的管理密钥的需求而开发的。

-   Kerberos

Kerberos 目的是为MIT校园网和其他内部互联网提供一系列认证和安全设施。

-   使用安全套接字确保电子交易安全

TLS提供了一个使用的混合加密方案的实现，他能进行认证和基于公钥进行密钥交换。因为密码在握中协商，所以他不依赖于任何专门的算法，也不依赖于会话建立时的任何安全服务。唯一需要的是权威机构发布的通信双方认可的公钥证书。

##  分布式文件系统

分布式文件系统使程序可以像对本地文件那样对远程文件进行存储和访问，允许用户访问网络中的任意计算机上的文件。

访问存储在服务器上的文件时应该能获得与访问本地磁盘文件类似的性能和可靠性。

### 简介

局域网和企业内部网中的共享需求产生了一种不同类型的服务，他能够为客户端提供各种类型的程序和数据的存储持久性，以及更新数据的分布一致性。

本章主要介绍`基本`分布式文件系统的体系结构和实现。

分布式文件系统的主要目的是在多个远程计算机系统上为客户模拟非分布式文件系统的功能。他并不维持一个文件的多个持久副本，也不提供多媒体数据流所需的带宽和实时保证。

分布式文件系统的文件服务允许用户在企业内部网上的任一计算机上访问自己的文件，程序可以像对待本地文件一样存储和访问远程文件。

-   文件系统的特点

文件系统负责文件的组织、存储、检索、命名、共享和保护。他提供了描述文件抽象的程序接口，这样程序员就不必关心存储分配以及存储布局的细节。

文件包括数据和属性。

元数据是指文件系统用于管理文件而存储的所有额外信息。

-   分布式文件系统的需求

分布式文件系统的需求：透明性、并发文件更新、文件复制、硬件和操作系统异构性、容错、一致性、安全性和效率

-   实例研究

### 文件服务体系结构

文件系统的结构化分成三个组件：平面文件服务、目录服务和客户端模块。

平面文件服务和目录服务将接口开发，供客户端程序使用，他们同时和RPC接口一起提供了访问文件的操作。客户模块提供了同传统文件系统相识的关于文件操作的一个程序接口。设计的开放性体现在可以用不同的客户模块实现不同的程序接口，从而模拟不同操作系统的文件操作并根据不同的客户和服务器硬件配置优化性能。

-   平面文件服务

平面文件服务注重实现在文件内容上的操作，唯一文件标识符用于在所有平面文件服务操作的请求中标识文件。

-   目录服务

目录服务提供文件的文本名字到 UFID 的映射。客户可以通过对目录服务引用文本名字来获得文件的 UFID。

-   客户模块

客户模块运行在客户计算机上，他在一个应用程序接口下集成和扩展了平面文件服务和目录文件服务的操作，该程序接口可供客户计算机上的用户级程序使用。

-   平面文件服务接口

-   访问控制

访问权限检查必须在服务器上进行。

-   目录服务接口

目录服务的主要目的是提供将文本名字翻译成 UFID 的服务。

-   层次文件系统

在层次化目录中，文件属性应该包括一个区别普通文件和目录的类型字段。

-   文件组

文件组是在一个位于给定服务器上的文件集合。一个服务器可能包含数个文件组，文件组可以在服务器之间移动，但文件不能改变他所属的组。


### 实例研究：SUN网络文件系统

NFS服务器模块驻留在每一个作为NFS服务器的计算机的内核上，客户模块将引用远程文件系统中的文件的请求翻译为NFS协议操作，并将他传输到保存相关文件系统的计算机的NFS服务器模块上。

### 实例研究：Andrew文件系统

AFS为运行在工作站上的UNIX程序提供了对远程共享文件的透明访问。

### 最新进展

-   NFS 的改进
-   AFS 的改进
-   存储组织的改进
-   新的设计方法

##  名字服务

使用名字服务，客户进程可以根据名字获取资源或对象的地址等属性。被命名的实体可以是任何类型，并且可有不同的服务管理。

### 简介

在分布式系统中，名字用于指称计算机、服务、远程对象、文件，甚至用户等各种资源。

名字为通信与资源共享提供了便利，当要求计算机系统对某个资源进行操作时，就需要一个名字。

在分布式系统中，名字服务可向客户提供被命名对象的数据；而目录服务提供满足某个描述的对象的数据。

-   名字、地址及其他属性

任何请求访问一个资源的进程必须拥有该资源的名字或标识符。文件名、URL以及互联网域名都是我们可以阅读的名字。

当一个名字被翻译成被其命名的资源或对象的数据时，我们称一个名字被解析，解析对象名的目的是在对象上调用一个动作。名称与对象之间的关联通常称为绑定。

-   名字与服务

分布式系统使用的许多名字是特定的服务专用的。

在分布式系统中，名字也要能指称超出单个服务范畴的实体。

-   统一资源标识符

统一资源标识符(URI)是用来标识Web资源，以及其他互联网资源的。他的重要目标是将资源以一致的方式标识出来，以便他们能不被公共软件(如浏览器)处理。

### 名字服务和域名服务

一个名称服务存储了一个文本名字集合的信息，其形式为(表示用户、计算机、服务以及对象等)实体文本名字与属性的绑定。这个集合通常在细分为一个或多个命名上下文：单个绑定的子集，他们作为一个基本单元接受管理。

-   名字空间

名字空间是一个服务所能识别的所有有效名字的集合，所谓有效意味着服务将试图查找它，即使该名字并不对应于任何对象，即未被绑定。

-   名字解析

对此层次结构的命名空间，名字解析通常是一个迭代的过程，通过该过程，名字被反复的送到命名上下文中，来查找其涉及的属性。一个命名上下文或者直接将给定的名字映射到一组简单属性中，或者将之映射到一个更深层次的命名上下文中，同时将一个派生名送到该上下文。

-   域名系统

域名系统是一个名字服务，他的主命名数据库主要在互联网上使用。

DNS命名的对象主要是计算机，IP地址作为其属性存储。

### 目录服务

目录服务：存储了一组名字和属性的绑定，条目的查找基于属性规范。

### 实例研究：全局名字服务

全局名字服务(GNS)用于提供资源定位、邮件寻址以及认证等功能。

### 实例研究：X.500 目录服务

X.500 可以按传统的名字服务的使用方式使用，但他通常用于满足描述性的查询，并用来发现其他用户或系统资源的名字与属性。

在网络用户、组织机构以及系统资源目录下，用户可能会有各种搜索与浏览器需求，以获取该目录包含的实体的信息。

----