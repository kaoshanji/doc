#   对象与类

##  面向对象程序设计概述

面向对象程序设计（简称OOP）是当今主流的程序设计范型。Java是完全面向对象的。

面向对象的程序是由对象组成的，每个对象包含对用户公开的特定功能部分和隐藏的实现部分。程序中的很多对象来自标准库，还有一些是自定义的。

只要对象能够满足要求，就不必关心其功能的具体实现过程。在OOP中，不必关心对象的具体实现，只要能够满足用户的需求即可。

OOP将数据放在第一位，然后再考虑操作数据的算法。

### 类

类是构造对象的模板或蓝图。由类构造对象的过程称为创建类的实例。

封装是与对象有关的一个重要概念。从形式上看，封装不过是将数据和行为组合在一个包中，并对对象的使用者隐藏了数据的实现方法。对象中的数据称为实例域，操作数据的过程称为方法。对于每个特定的类实例（对象）都有一组特定的实例域值。这些值得集合就是这个对象的当前状态。

实现封装的关键在于绝对不能让类中的方法直接的访问其他类的实例域。程序仅通过对象的方法与对象数据进行交互。封装给对象赋予了"黑盒"特征，这是提高重用性和可靠性的关键。这意味着一个类可以全面的概念存储数据的方法，只要仍旧使用同样的方法操作数据，其他对象就不会知道或介意所发生的变化。

OOP的另一个原则是可以通过扩展一个类来建立另外一个新的类。在扩展一个已有的类时，这个扩展后的新类具有所扩展的类的全部属性和方法。在新类中，只需提供适用于这个新类的新方法和数据域就可以勒。通过扩展一个类来建立另一个类的过程称为继承。

### 对象

OOP里对象的三个主要特性：
-   对象的行为：可以对对象施加那些操作，或可以对对象施加那些方法?
-   对象的状态：当施加那些方式时，对象如何响应?
-   对象标识：如何辨别具有相同行为与状态的不同对象?

每个对象都保存着描述当前特性的信息，这是对象的状态

对象状态的改变必须通过调用方法实现

作为一个类的实例，每个对象的标识永远是不同的。

### 识别类

学习OOP首先从设计类开始，然后再往每个类中添加方法。

识别类的简单规则是在分析问题的过程中寻找名称，而方法对应着动词

例如，在电商系统中，有这样的一些名词：订单、商品、账户等。

### 类之间的关系

类之间最常见的关系：
-   依赖：如果一个类的方法操作另一个类的对象，就说一个类依赖于另一个类
-   聚合：一个订单对象包含一些商品对象，意味着类A的对象包含类B的对象
-   继承：一种用于表示特殊与一般关系

----

##  使用预定义类

要想使用对象，就必须首先构造对象，并制定其初始状态，然后，对对象应用方法。

在Java中，使用构造器构造新实例。构造器是一种特殊的方法，用来构造并初始化对象

一个对象变量并没有实际包含一个对象，而仅仅引用一个对象

任何对象变量的值都是对存储在另外一个地方的一个对象的引用。new操作符的返回值也是一个引用。

```
Date deadline = new Date();
```
有两个部分。表达式 new Date()构造了一个Date类型的对象，并且它的值是对新创建对象的引用。这个引用存储在变量deadline中。

----

##  用户自定义类

要想创建一个完整的程序，应该将若干类组合在一起，其中只有一个类有main方法

显式参数是明显的列在方法声明中的，隐式参数没有出现在方法声明中。

在每一个方法中，关键字this表示隐式参数。

封装使得可以改变内部实现，除了该类的方法之外，不会影响其他代码

为了实现一个私有的方法，使用private修饰

只要方法是私有的，他不会被外部的其他类操作调用

final修饰符大都应用于基本类型域，或不可变类的域

----

##  静态域与静态方法

如果将域定义为static，每个类中只有一个这样的域，而每一个对象对于所有的实例域都有一份自己的拷贝

静态方法是一种不能向对象实施操作的方法，可以认为静态方法是没有this参数的方法

main方法不对任何对象进行操作。事实上，在启动程序时还没有任何一个对象。静态的main方法将执行并创建程序所需的对象

----

##  方法参数

Java是按值调用，也就是说，方法得到的是所有参数值的一个拷贝，方法不能修改传递给它的任何参数变量的内容

对象引用是按值传递的

方法参数的使用情况：
-   一个方法不能修改一个基本数据类型的参数
-   一个方法可以改变一个对象参数的状态
-   一个方法不能让对象参数引用一个新的对象

----

##  对象构造

如果多个方法有相同的名字、不同的参数，便产生了重载

初始化数据域的方法：
-   在构造器中设置值
-   在声明中赋值
-   初始化块，只要构造器类的对象，这些块就会被执行

----

##  类设计技巧

-   一定要保证数据私有
-   一定要对数据初始化
-   不要在类中使用过多的基本类型
-   不是所有的域都需要独立的域访问器和域更改器
-   将职责过多的类进行分解
-   类名和方法名要能够体现他们的职责
-   优先使用不可变的类

----