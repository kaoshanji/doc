#   对象导论

计算机革命起源于机器，因此，编程语言的产生也始于对机器的模仿。

计算机是头脑延伸的工具，同时还是一种不同类型的表达媒体。因此，这种工具看起来已经越来越不像机器，而更像我们头脑的一部分，以及一种如协作、绘画、雕刻、动画、电影等一样的表达形式。面向对象程序设计(OOP)便是这种以计算机作为表达媒体的大趋势中的组成部分。


##  抽象过程

所有编程语言都提供抽象机制。可以认为，人所能够解决得问题的复杂性直接取决于抽象的类型和质量。所谓的"类型"是指"所抽象的是什么?"汇编语言是对底层机器的轻微抽象，接着"命令式"语言是对汇编语言的抽象。

面向对象通过向程序员表示问题空间中的元素的工具而更进一步。程序可以通过添加新类型的对象使自身使用与某个特定问题，当你阅读描述解决方案的代码的同时，也是在阅读问题的表述。OOP允许根据问题来描述问题，而不是根据运行解决方案的计算机来描述问题。

面向对象程序设计方式：
-   万物皆为对象：抽取待求解的任何概念化构建(狗、建筑物、服务等)，将其表示为程序中的对象
-   程序是对象的集合，他们通过发送消息来告知彼此所要做的：要想请求一个对象，就必须对该对象发送一条消息
-   每个对象都有自己的由其他对象所构成的存储：可以通过创建包含现有对象的包的方式来创建新类型的对象。可以在程序中构建复杂的体系，同事将其复杂性隐藏在对象的简单些背后
-   每个对象都拥有其类型："每个对象都是某个类的一个实例"，这里"类"就是"类型"。每个类最重要的区别于其他类的特性就是"可以发送什么样的消息给他"
-   某一特定类型的所有对象都可以接收同样的消息

对象具有状态、行为和标志。这意味着每一个对象都可以拥有内部数据(他们给出了该对象的状态)和方法(他们产生行为)，并且每一个对象都可以唯一的与其他对象区分开来，具体说，就是每一个对象在内存中都有一个唯一的地址。

----

##  每个对象都有一个接口

创建抽象数据类型(类)是面向对象程序设计的基本概念之一，抽象数据类型的运行方式与内置类型几乎完全一致：可以创建某一类型的变量(对象或实例)，然后操作这些变量(发送消息或请求；发送消息，对象就知道要做什么)。

每一个对象都属于定义了特性和行为的某个特定的类。

尽管在面向对象程序设计中实际上进行的是创建新的数据类型，但事实上所有的面向对象程序设计语言都使用class这个关键词来表示数据类型，当看到类型一词时，可将其作为类来考虑，反之亦然。

因为类描述了具有相同特性(数据元素)和行为(功能)的对象集合，所以一个类实际上就是一个数据类型。

根据需求，通过添加新的数据类型来扩展编程语言。编程系统欣然接受新的类，并且向对待内置类型一样的照管他们和进行类型检查

任何程序都是你所设计的系统的一种仿真。

一旦类被建立，就可以随心所欲的创建类的任意个对象，然后去操作他们，就像他们是存在于你的待求解问题中的元素一样

每个对象都只能满足某些请求，这些请求由对象的接口所定义，决定接口的便是类型

----

##  每个对象都提供服务

程序本身将向用户提供服务，他将通过调用其他对象提供的服务来实现这一目的。你的目标就是去创建能够提供理想的服务来解决问题的一系列对象

将对象作为服务提供者看待是一件伟大的简化工具，这不仅在设计过程中非常有用，而且当其他人试图理解你的代码或重用某个对象时，如果他们看出了这个对象所能提供的服务的价值，他会使调整对象以适应其设计的过程变得简单得很多

----

##  被隐藏的具体实现

访问控制的第一个存在原因是让客户端程序员无法触及他们不应该触及的部分---这些部分对数据类型的内部操作来说是必需的，单并不是用户解决特定问题所需的接口的一部分。这对客户端程序员来说其实是一项服务，因为他们可以很容易的看出那些东西对他们来说很重要，而那些东西可以忽视

访问控制的第二个存在原因就是允许库设计者可以改变类内部的工作方式而不用担心会影响到客户端程序员。

##  复用具体实现

代码复用是面向对象程序设计语言所提供的最了不起的优先之一。

新的类可以由任意数量、任意类型的其他对象以任意可以实现新的类中想要的功能的方式所组成。因为是在使用现有的类合成新的类，所以这种概念被称为组合，如果组合是动态发生的，那么他就通常被称为聚合

##  继承

对象这种概念，本身就是十分方便的工具，使得你可以通过概念将数据和功能封装到一起，因此可以对问题空间的概念给出恰当的标识，而不用受制于必须使用底层机器语言。这些概念用关键字class来表示，他们形成了编程语言中的基本单位。

类型不仅仅只是描述了作用于一个对象集合上的约束条件，同时还有与其他类型之间的关系。两个类型可以有相同的特性和行为，但是其中一个类型可能比另一个含有更多的特性，并且可以处理更多的消息(或以不同的方式来处理消息)。继承使用基类型和导出类型的概念表示了这种类型之间的相似性。一个基类型包含其所有导出类型所共享的特性和行为。可以创建一个基类型来表示系统中某些对象的核心概念，从基类型中导出其他类型，来表示此核心可以被实现的各种不同方式。

通过使用对象，类型层次结构成为了主要模型，因此，可以直接从真实世界中对系统的描述过渡到用代码对系统进行描述

当继承现有类型时，也就创造了新的类型。这个新的类型不仅包括现有类型的所有成员，而且更重要的是他复制了基类的接口。也就是说，所有可以发送给基类对象的消息同时也可以发送给导出类对象。由于通过发送给类的消息的类型可知类的类型。所以这也意味着导出类与基类具有相同的类型

由于基类和导出类具有相同的基础接口，所以伴随此接口的必定有某些具体实现。也就是说，当对象接收到特性消息时，必须有某些代码去执行

使导出类和基类之间产生差异额方法是改变现有基类的方法的行为，这被称为覆盖

有时必须在导出类型中添加新的接口元素，这样也就扩展了接口，这个新的类型仍然可以替代基类，但是这种替代并不完美，因为基类无法访问新添加的方法，这种情况我们可以秒杀为is-like-a(像是一个)关系。新类型具有旧类型的接口，但是他还包含其他方法，所以不能说他们完全相同。

----

##  伴随多态的可互换对象

在处理类型的层次结构时，经常想把一个对象不当做他所属的特定类型来对待，而是将其当做其基类的对象来对待，这使得人们可以编写出不依赖于特定类型的代码。


##  单根继承结构

在单根继承结构中的所有对象都具有一个公用接口，所以他们归根到底都是相同的基本类型

单根继承结构保证所有对象都具备某些功能，因此。在你的系统中可以在每个对象上执行某些基本操作。所有对象都可以很容易的在堆上创建，而参数传递也得到了极大的简化

单根继承结构使垃圾回收器的实现变得容易得多，而垃圾回收器正式Java相对于C++的重要改进之一。由于所有对象都保证具有其类型信息，因此不会因无法确定对象的类型而陷入僵局。

##  容器

如果不知道在解决某个特定问题时需要多少个对象，或者他们将存货多久，那么就不可能知道如何存储这些对象。

在Java中，具有满足不同需要的各种类型的容器，例如List(用于存储序列)，Map(关联数组，用来建立对象之间的关联)，Set(每种对象类型只持有一个)，以及诸如队列、树、堆栈等更多的构件。

对容器要有所选择，这有两个原因
-   第一，不同容器提供了不同类型的接口和外部行为。堆栈相比于队列就具备不同的接口和行为，也不同于集合和列表的接口和行为。他们之中的某种容器提供的解决方案可能比其他容器要灵活很多
-   第二，不同的容器对于某些操作具有不同的效率。

##  对象的创建和生命期

在使用对象时，最关键的问题之一便是他们的生成和销毁方式，每个对象为了生成都需要资源，尤其是内存。当我们不再需要一个对象时，他们必须被清理掉，使其占有的资源可以被释放和重用。

Java完全采用动态内存分配，每当想要创建新对象时，就要使用new关键字来构建此对象的动态实例

Java提供了被称为"垃圾回收器"的机制，他可以自动发现对象何时不再被使用，并继而销毁他

Java的垃圾回收器被设计用来处理内存释放问题(尽管他不包含清理对象的其他方面)。垃圾回收器"知道"对象何时不再被使用，并自动释放对象占用的内存。

##  异常处理：处理错误

异常处理将错误处理直接置于编程语言中，有时甚至置于操作系统中。异常是一种对象，他从出错点被"抛出"，并被专门设计用来处理特定类型错误的响应的异常处理器"捕获"。异常处理就像是与程序正常秩序路径并行的、在错误发生时秩序的另一条路径。因为他是另一条完全分离的执行路径，所以他不会干扰正常的执行代码。

被抛出的异常不像方法返回的错误值和方式设置的用来表示错误条件的标志位那样可以被忽视。异常不能被忽略，所以他保证一定会在某处得到处理。

异常提供了一种从错误状况进行可靠恢复的途径

----

##  并发编程

在计算机编程中有一个基本概念，就是在同一时刻处理多个任务的思想。

有时中断对于处理时间性强的任务是必需的，但是对于大量的其他问题，我们只是想把问题切分成多个可独立运行的部分(任务)，从而提高程序的响应能力。在程序中，这些彼此独立运行的部分称之为线程，上述概念被称为"并发"。

线程只是一种为单一处理器分配执行时间的手段。但是如果操作系统支持多处理器，那么每个任务都可以被指派给不同的处理器，并且他们是在真正的并行执行。在语言级别上，多线程所带来的便利之一便是程序员不用再操心机器上是有多个处理器还是只有一个处理器。由于程序在逻辑上被划分为线程，所以如果机器拥有多个处理器，那么程序不需要特殊调整也能执行得更快

并发的隐患：共享资源，如果有多个并行任务都要访问同一项资源，就会出问题。

##  Java与Internet

Java解决了在万维网(WWW)上的程序设计问题。

Web:
-   客户/服务器计算技术
    -   系统具有一个中央信息存储池，用来存储某种数据，他通常存在于数据库中，可以根据需要将他分发给某些人员或机器集群
    -   客户/服务器概念的关键在于信息存储池的位置集中于中央，这使得他可以被修改，并且这些修改将被传播给信息消费者
    -   信息存储池、用于分发信息的软件以及信息与软件所驻留的机器或机群被称为服务器
    -   驻留在用户机器上的软件与服务器进行通信，以获取信息、处理信息，然后将他们显示在被称为客户机的用户机器上
-   Web就是一台巨型服务器
    -   Web实际上就是一个巨型客户/服务器系统
    -   对某个服务器产生一个请求，然后他返回给你一个文件，你的机器(也就是客户机)上的浏览器软件根据本地机器的格式来解读这个文件
-   客户端编程
    -   大多数运行Web浏览器的机器都是能够执行大型任务的强有力的引擎
    -   客户端编程意味着Web浏览器能用来执行任何他可以完成的工作，使得返回给用户的结果更加迅捷，而且使得你的网站更加具有交互性
-   服务器端编程
    -   对服务器的请求通常涉及数据库事务
    -   常见的情形是复杂的数据库搜索请求，然后服务器将结果进行格式编排，使其成为一个HTML页面发回给客户端
    -   数据库请求必须通过服务器端的某些代码来处理，这就是所谓的服务器端编程

----
