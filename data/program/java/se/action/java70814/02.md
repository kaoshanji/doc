#   Java语言的动态性

-   内容
    -   脚本语言支持api
    -   反射api
    -   动态代理
    -   动态语言支持

Java语言本身对动态性的支持也很多，主要是在使用方式上，这些动态性可以在一些对灵活性要求比较高的场合发挥作用，反射API就是一个很好的例子，他提供了在运行时根据方法名查找并调用方法的能力。


1.   脚本语言支持api

跳过

2.   反射api

反射API是Java语言本身提供的动态支持，通过反射API可以获取Java程序在运行时刻的内部结构，比如，Java类中包含的构造方法、域和方法等元素，并可以与这些元素进行交互。

利用反射API设置对象的属性值的示例：books.java70814.s2.ReflectSetter

### 获取构造方法

通过反射API可以获取到Java类中的构造方法，通过构造方法可以在运行时动态的创建Java对象，而不只是通过 new 操作符来进行创建，在得到 Class 类的对象之后，可以通过其中的方法来获取构造方法。

如果构造方法声明了长度可变的参数，在获取构造方式的时候，要使用对应的数组类型的Class对象，这是因为长度可变的参数实际上是通过数组来实现的。

对嵌套类的构造方法的获取，需要区分静态和非静态两种情况，即是否在声明嵌套类的时候使用 static 关键。

### 获取域

通过 反射 API 可以获取到类中公开的静态域和对象中的实例域。得到表示域的 java.lang.reflect.Field 类的对象之后。就可以获取和设置域的值。

### 获取方法

获取到一个对象中的方法，并在运行时调用该方法。

### 操作数组

使用反射API对数组进行操作的方式不同于一般的Java对象，是通过专门的java.lang.reflect.Array这个实用工具类来实现的，Arraya类中提供的方法包括创建数组和操作数组中的元素。

### 访问权限与异常处理

在正常的代码中，一个类的对象是不能访问在另一个类中声明的私有方法的，但是通过反射API可以做到这一点。


3.   动态代理
4.   动态语言支持