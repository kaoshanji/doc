#   并发

现在的计算机可以在编辑或下载邮件的同时打印文件，这是因为操作系统将CPU的时间片分配给每一个进程，给人并行处理的感觉。

多线程程序在较低的层次上扩展了多任务的概念：一个程序同时执行多个任务。通常，每个任务称为一个线程，他是线程控制的简称。可以同时运行一个以上线程的程序称为多线程程序。

多线程与多进行的区别在于，每个进程拥有自己的一整套变量，而线程则共享数据。

共享变量使线程之间的通信比进程之间的通信更有效、更容易。

----

##  线程

1.  什么是线程

当通过网络连接读取数据时，阻塞其他任务是经常发生的，有时确实想要中断读取操作。例如，下载一张大图片，当看到一部分图片后，决定不需要或不想再看剩余的部分，希望能够点击Stop按钮或Back按钮中断下载操作。

线程执行任务。

-   实现线程
    -   实现 Runnable 接口，业务逻辑放在 run方法中
    -   由 Runnable创建一个 Thread对象：Thread t = new Thread(r);
    -   启动线程：s.start();

2.  中端线程

没有可以强制线程终止的方法，然而，interrupt方法可以用来请求终止线程

当对一个线程调用 interrupt 方法时，线程的中断状态将被置位，这是每个线程都具有的boolean标志，每个线程都应该不时的检查这个标志，以判断线程是否被中断

要想指导中断状态是否被置位，首先调用静态的Thread.currentThread方法获得当前线程，然后调用 isInterruptd 方法

但是，如果线程被阻塞，就无法检查中断状态，这是产生 InterruptedException 异常的地方，当在一个被阻塞的线程(调用sleep或wait)上调用 interrupt方法时，阻塞调用将会被 InterruptedException 异常中断。

中断一个线程不过是引起他的注意，被中断的线程可以决定如何响应中断，某些线程很重要以至于应该处理完异常后，继续执行，而不理会中断。

更普遍的情况是，线程将简单的将中端作为一个终止的请求。

如果在每次工作迭代之后都调用sleep方法，isInterruptd检查既没必要也没用处。如果在中端状态被置位时调用sleep方法，他不会休眠，相反，他将清除这一状态并抛出 InterruptedException。因此，如果循环调用sleep，不会检查中断状态，相反，要如下所示捕获 InterruptedException 异常：


3.  线程状态


4.  线程属性



----

##  数据

1. 阻塞队列


2.  线程安全的集合


----

##  执行

1.  同步


2.  Callable和Future


3.  执行器


4.  同步器



----





